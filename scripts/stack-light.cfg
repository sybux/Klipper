[gcode_macro STACKLIGHT_DISPO]
gcode:
    M118 setting StackLight to GREEN
    RESPOND PREFIX="StackLight" MSG="State : READY"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=green&mode=static'

[gcode_macro STACKLIGHT_PRINTING]
gcode:
    M118 setting StackLight to WHITE
    RESPOND PREFIX="StackLight" MSG="State : PRINTING"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=white&mode=static'

[gcode_macro STACKLIGHT_EXCLUDED_OBJECT]
gcode:
    M118 setting StackLight to ORANGE
    RESPOND PREFIX="StackLight" MSG="State : OBJECT EXCLUDED"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=orange&mode=static'

[gcode_macro STACKLIGHT_HEATING]
gcode:
    M118 setting StackLight to RED
    RESPOND PREFIX="StackLight" MSG="State : HEATING"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=red&mode=blink'

[gcode_macro STACKLIGHT_COOLING]
gcode:
    M118 setting StackLight to Blue Blinking
    RESPOND PREFIX="StackLight" MSG="State : COOLING"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=blue&mode=blink'

[gcode_macro STACKLIGHT_LOADING]
gcode:
    M118 setting StackLight to yellow Blinking
    RESPOND PREFIX="StackLight" MSG="State : Loading filament"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=yellow&mode=blink'

[gcode_macro STACKLIGHT_UNLOADING]
gcode:
    M118 setting StackLight to purple Blinking
    RESPOND PREFIX="StackLight" MSG="State : Unloading Filament"
    RUN_SHELL_COMMAND CMD=StackLight_color PARAMS='color=purple&mode=blink'

[gcode_shell_command StackLight_color]
command: curl -s -X POST http://localhost:5123/set_color -d 
timeout: 5
verbose: false
